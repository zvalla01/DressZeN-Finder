<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home | DressZeN Finder</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>

    <header class="header">
        <div class="logo-container">
            <a href="{{ url_for('index') }}"><img src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo" class="logo"></a>
        </div>

        <div class="website-name">
            <img src="{{ url_for('static', filename='img/header.png') }}" alt="Website name" class="website-name-img">
        </div>

        <nav class="search-login-menu">
            <!-- Search bar -->
            <form action="{{ url_for('search') }}" method="GET" class="search-form">
                <input type="text" name="query" placeholder="Search..." required class="search-bar">
                <button type="submit">Search</button>
            </form>
            
            <!-- Logout button -->
            <a href="{{ url_for('signout') }} " class="login-btn">LOGOUT</a>

            <!-- Three lines menu -->
            <div class="menu-icon" aria-label="Menu" onclick="toggleDropdown()">
                <span class="line"></span>
                <span class="line"></span>
                <span class="line"></span>
            </div>

            <!-- Dropdown Menu -->
            <div id="dropdownMenu" class="dropdown-menu" style="display:none;"> <!-- Hide by default -->
                <a href="#profile">YOUR PROFILE</a>
                <a href="{{ url_for('saved') }}">SAVED ITEMS</a>
                <a href="{{ url_for('brands') }}">BRANDS</a> <!-- Link to brands page -->
            </div>
        </nav>
    </header>

    <!-- Horizontal line separating header and task bar -->
    <hr class="separator-line">

    <!-- Task Bar -->
    <nav class="task-bar">
        <a href="{{ url_for('tops') }}"><button class="task-btn">TOPS</button></a>
        <a href="{{ url_for('bottoms') }}"><button class="task-btn">BOTTOMS</button></a>
        <a href="{{ url_for('shoes') }}"><button class="task-btn">SHOES</button></a>
        <a href="{{ url_for('acc') }}"><button class="task-btn">ACCESSORIES</button></a>
    </nav>


    <main class="main-content">
        <p>OOPSIES! YOU CANNOT ACCESS MAINTENANCE PAGE</p>
    </main>

    <footer>
        <p>&copy; 2024 DressZeN Finder | <a href="{{ url_for('imprint') }}">Imprint</a></p>
    </footer>

    <script>
        document.querySelectorAll('.rating').forEach(rating => {
            const stars = rating.querySelectorAll('.star');
            stars.forEach(star => {
                star.addEventListener('click', () => {
                    const ratingValue = star.dataset.value;
                    stars.forEach(s => {
                        if (s.dataset.value <= ratingValue) {
                            s.classList.add('filled'); // Fill the star
                        } else {
                            s.classList.remove('filled'); // Empty the star
                        }
                    });

        // Save the rating (you can implement your own logic here)
        const outfitId = rating.dataset.outfitId;
        console.log(`Outfit ${outfitId} rated ${ratingValue} stars`);
                });
            });
        });

        // Handle comment submission
        document.querySelectorAll('.submit-comment').forEach(button => {
            button.addEventListener('click', () => {
                const commentInput = button.previousElementSibling;
                const commentText = commentInput.value.trim();
                const commentsList = button.nextElementSibling;

                if (commentText) {
                    const listItem = document.createElement('li');
                    listItem.textContent = commentText;
                    commentsList.appendChild(listItem);
                    commentInput.value = ''; // Clear the input field
                    alert('Comment added!'); // Provide feedback to the user
                } else {
                    alert('Please enter a comment before submitting.'); // Notify user
                }
            }); 
        });


        // Function to toggle dropdown menu visibility
        function toggleDropdown() {
            var dropdown = document.getElementById("dropdownMenu");
            dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
        }

        // Close dropdown if clicked outside
        window.onclick = function(event) {
            if (!event.target.matches('.menu-icon')) {
                const dropdowns = document.getElementsByClassName("dropdown-menu");
                for (let i = 0; i < dropdowns.length; i++) {
                    dropdowns[i].style.display = "none";
                }
            }
        }

    </script>
</body>
</html>
